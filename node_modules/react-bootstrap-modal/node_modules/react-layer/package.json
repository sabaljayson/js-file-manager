{
  "name": "react-layer",
  "version": "1.1.0",
  "description": "Simple abstraction for creating and managing new render trees",
  "author": {
    "name": "Jason Quense",
    "email": "monastic.panic@gmail.com"
  },
  "main": "lib/index.js",
  "repository": {
    "type": "git",
    "url": "git://github.com/jquense/react-layer"
  },
  "license": "MIT",
  "keywords": [
    "react-layer",
    "react-component",
    "react-component",
    "layer",
    "react",
    "portal",
    "container"
  ],
  "scripts": {
    "test": "karma start --single-run"
  },
  "peerDependencies": {
    "react": ">=0.12.2"
  },
  "devDependencies": {
    "babel": "^4.7.2",
    "babel-loader": "^4.0.0",
    "chai": "^1.10.0",
    "chai-as-promised": "^4.1.1",
    "css-loader": "^0.9.1",
    "dom-helpers": "^1.2.1",
    "gulp": "^3.8.10",
    "gulp-babel-helpers": "^1.1.2",
    "gulp-less": "^2.0.1",
    "gulp-plumber": "^0.6.6",
    "gulp-rename": "^1.2.0",
    "imports-loader": "^0.6.3",
    "karma": "~0.12.23",
    "karma-mocha": "~0.1.9",
    "karma-mocha-reporter": "^0.3.1",
    "karma-phantomjs-launcher": "~0.1.4",
    "karma-sourcemap-loader": "^0.3.2",
    "karma-webpack": "~1.2.2",
    "less-loader": "^2.0.0",
    "mocha": "~1.21.4",
    "phantomjs": "~1.9.10",
    "react": "^0.12.2",
    "react-hot-loader": "^1.1.7",
    "rimraf": "^2.2.8",
    "sinon-chai": "^2.6.0",
    "style-loader": "^0.8.3",
    "webpack": "^1.4.15",
    "webpack-dev-server": "^1.7.0"
  },
  "readme": "# react-layer\r\n\r\nSimple abstraction for creating and managing new render trees\r\n\r\n## Install\r\n\r\n```sh\r\nnpm i -S react-layer\r\n```\r\n\r\n### Use\r\n\r\nA Layer is a simple class that manages the mounting and unmounting of a ReactElements to a specific container element. This is helpful for when, in the course of a react heirarchy you need to append a component outside of the current render tree. The canonical example of this pattern is overlays or modals that need to be appended to the document body. \r\n\r\nSimply put this sort of like the React equivalent to  jquery's `appendTo` (`$('node').appendTo('body')`)\r\n\r\n### `new Layer(container, renderFn)`\r\n\r\nThe Layer object takes two arguments: a `container`, which is a DOM node that the layer will be mounted too (such as the `document.body`), and `render`, a function that, when called, returns a `ReactElement` to render into the container\r\n\r\n### `Layer.render()`\r\n\r\nMounts and Renders the return value of the function provided in the constructor (`renderFn`) to the container\r\n\r\n### `Layer.unmount()`\r\n\r\nUnmounts the component from the container, but leaves the mount point node in the DOM.\r\n\r\n### `Layer.destroy()`\r\n\r\nUnmounts, and removes all traces of the layer from the container. This calls `unmount()` so there is no need to call it in addition to `destroy`.\r\n\r\n```javascript\r\nvar Layer = require('react-layer')\r\nvar Modal = require('some-modal-component')\r\n\r\n// here is a simple async alert()\r\nfunction alert(message, callback) {\r\n  var layer = new Layer(document.body, function renderModal(){\r\n        return (\r\n          <Modal show onHide={finish}>\r\n            <Modal.Body>\r\n              <h4>{message}</h4>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n              <button onClick={finish}>Close</button>\r\n            </Modal.Footer>\r\n          </Modal>\r\n        )\r\n      })\r\n\r\n  // actually renders our Modal off of the document.body\r\n  layer.render()\r\n\r\n  function finish(){\r\n      callback()\r\n      layer.destroy() // unmount and remove the React Component tree\r\n  }\r\n}\r\n\r\nalert('hello there!')\r\n```\r\n\r\n\r\nIf you want to create a component that represents the layer you can do that with a fairly simple Higher Order Component. The below example will tie the lifecycle of the `Layer` with the component that creates it. You can just provide a render method and the HOC will ensure that it is created and rendered at the right time. \r\n\r\n```jsx\r\n\r\nlet createLayeredComponent = render => class extends React.Component {\r\n\r\n  static propTypes = {\r\n    container: React.PropTypes.any\r\n  }\r\n\r\n  componentWillUnmount () {\r\n    this._layer.destroy()\r\n    this._layer = null\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this._renderOverlay();\r\n  }\r\n\r\n  componentDidMount() {\r\n    this._renderOverlay();\r\n  }\r\n\r\n  _renderOverlay() {\r\n    if (!this._layer)\r\n      this._layer = new Layer(this.props.container || document.body, () => this._child)\r\n\r\n    this._layer.render()\r\n  }\r\n\r\n  render() {\r\n    this._child = render(this.props) //create the elements in render(), otherwise Owner can be lost\r\n    return null;\r\n  }\r\n}\r\n\r\n// and In use....\r\n\r\nvar LayeredComponent = createLayeredComponent(function(props){\r\n  return (\r\n    <MyComponentIWantRenderedInALayer {...props}>\r\n      {props.children}\r\n    </MyComponentIWantRenderedInALayer>\r\n  )\r\n})\r\n```\r\n\r\n",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/jquense/react-layer/issues"
  },
  "_id": "react-layer@1.1.0",
  "_from": "react-layer@^1.0.1"
}
